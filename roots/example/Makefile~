FFLAGS = -ffree-form -std=gnu -O
LDLIBS = -lgfortran -lm
FC = gfortran

all:out.txt
	cat $<
out.txt:main
	./$< > $@

%.o %.mod: %.f
	$(FC) $(FFLAGS) -c $<
	touch $@

main:main.o roots.o qrgivens.o
main.o: roots.mod
roots.o: qrgivens.mod
qrgivens.o qrgivens.mod: ../qr.givens/qrgivens.f
	$(FC) $(FFLAGS) -c $<

clean:
	find . -type f -executable -delete
	rm -f *.o *.mod out*
